# ==============================================================================
# AEQUITAS LV-COP BACKEND - ENVIRONMENT VARIABLES TEMPLATE
# ==============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# ==============================================================================

# ------------------------------------------------------------------------------
# ENVIRONMENT
# ------------------------------------------------------------------------------
ENVIRONMENT=development
DEBUG=true
TESTING=false
LOG_LEVEL=INFO

# ------------------------------------------------------------------------------
# APPLICATION
# ------------------------------------------------------------------------------
APP_NAME=Aequitas LV-COP
APP_VERSION=1.0.0
API_V1_PREFIX=/api/v1
SECRET_KEY=your-super-secret-key-change-in-production

# Server settings
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=true

# Allowed hosts and CORS
ALLOWED_HOSTS=["*"]
CORS_ORIGINS=["http://localhost:3000","https://app.aequitas.ai"]

# ------------------------------------------------------------------------------
# DATABASE (PostgreSQL + TimescaleDB)
# ------------------------------------------------------------------------------
DATABASE_URL=postgresql://aequitas_user:password@localhost:5432/aequitas
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=1800
DATABASE_ECHO=false

# Test database
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/aequitas_test

# ------------------------------------------------------------------------------
# REDIS
# ------------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=10

# Cache settings
CACHE_TTL=300
FORECAST_CACHE_TTL=3600

# ------------------------------------------------------------------------------
# CELERY (Task Queue)
# ------------------------------------------------------------------------------
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_ALWAYS_EAGER=false

# ------------------------------------------------------------------------------
# AUTH0 (Authentication)
# ------------------------------------------------------------------------------
AUTH0_DOMAIN=your-tenant.us.auth0.com
AUTH0_CLIENT_ID=your-client-id
AUTH0_CLIENT_SECRET=your-client-secret
AUTH0_AUDIENCE=https://api.aequitas.ai
AUTH0_ALGORITHMS=["RS256"]

# JWT settings
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API Base URL (for OAuth callbacks)
API_BASE_URL=http://localhost:8000

# ------------------------------------------------------------------------------
# GOOGLE OAUTH
# For Google login: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID (Web application)
# 2. Add redirect URI: http://localhost:8000/api/v1/auth/google/callback
# 3. Copy Client ID and Secret below
# ------------------------------------------------------------------------------
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ------------------------------------------------------------------------------
# MICROSOFT OAUTH (Azure AD)
# For Microsoft login: https://portal.azure.com > Azure Active Directory > App registrations
# 1. Register new application
# 2. Add redirect URI: http://localhost:8000/api/v1/auth/microsoft/callback
# 3. Create client secret under Certificates & secrets
# 4. Copy Application (client) ID and Secret below
# ------------------------------------------------------------------------------
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_TENANT_ID=common

# ==============================================================================
# SUPABASE FREE DATABASE SETUP (Alternative to local PostgreSQL)
# ==============================================================================
# 1. Sign up at https://supabase.com (free tier: 500MB storage)
# 2. Create new project
# 3. Go to Settings > Database > Connection string
# 4. Copy the URI and replace [YOUR-PASSWORD] with your database password
#
# Example:
# DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@db.YOUR_PROJECT_ID.supabase.co:5432/postgres
#
# Note: Supabase uses standard PostgreSQL, not TimescaleDB.
# The app will work with regular tables (hypertable features disabled).
# ==============================================================================

# ------------------------------------------------------------------------------
# MINIO (Object Storage)
# ------------------------------------------------------------------------------
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET_NAME=aequitas

# Alternative: AWS S3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_BUCKET=aequitas
# AWS_REGION=us-east-1

# ------------------------------------------------------------------------------
# STRIPE (Payments)
# ------------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_your_test_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_test_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Price IDs for subscription tiers
STRIPE_PRICE_ID_PREMIUM=price_xxxxx
STRIPE_PRICE_ID_ENTERPRISE=price_xxxxx

# ------------------------------------------------------------------------------
# SENDGRID (Email)
# ------------------------------------------------------------------------------
SENDGRID_API_KEY=SG.your_api_key
SENDGRID_FROM_EMAIL=noreply@aequitas.ai
SENDGRID_FROM_NAME=Aequitas

# ------------------------------------------------------------------------------
# SENTRY (Error Tracking)
# ------------------------------------------------------------------------------
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ------------------------------------------------------------------------------
# MARKET DATA APIs
# ------------------------------------------------------------------------------
# FRED (Federal Reserve Economic Data)
FRED_API_KEY=your_fred_api_key

# Yahoo Finance (no API key required, but rate limited)

# Bloomberg (Enterprise only)
# BLOOMBERG_API_KEY=

# Refinitiv (Enterprise only)
# REFINITIV_API_KEY=

# ------------------------------------------------------------------------------
# BROKER APIs (Premium feature - encrypted in database)
# ------------------------------------------------------------------------------
# Goldman Sachs Prime
# GS_API_KEY=
# GS_API_SECRET=
# GS_API_URL=https://api.gs.com/prime

# Morgan Stanley Prime
# MS_API_KEY=
# MS_API_SECRET=
# MS_API_URL=https://api.morganstanley.com/prime

# JP Morgan Prime
# JPM_API_KEY=
# JPM_API_SECRET=
# JPM_API_URL=https://api.jpmorgan.com/prime

# ------------------------------------------------------------------------------
# ENCRYPTION
# ------------------------------------------------------------------------------
ENCRYPTION_KEY=your-32-byte-encryption-key-here
ENCRYPTION_SALT=your-encryption-salt

# ------------------------------------------------------------------------------
# RATE LIMITING
# ------------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_FREE_TIER=100/day
RATE_LIMIT_PREMIUM_TIER=10000/day
RATE_LIMIT_ENTERPRISE_TIER=unlimited

# ------------------------------------------------------------------------------
# ML / MODEL SETTINGS
# ------------------------------------------------------------------------------
MODEL_PATH=/app/models
MODEL_VERSION=1.0
FORECAST_HORIZON_DAYS=5

# Crisis detection thresholds
VIX_CRISIS_THRESHOLD=40
VIX_ELEVATED_THRESHOLD=25
CREDIT_SPREAD_CRISIS_THRESHOLD=200
CREDIT_SPREAD_ELEVATED_THRESHOLD=150

# ------------------------------------------------------------------------------
# MLFLOW (Model Registry)
# ------------------------------------------------------------------------------
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=aequitas-forecasting

# ------------------------------------------------------------------------------
# MONITORING
# ------------------------------------------------------------------------------
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=aequitas-backend

# ------------------------------------------------------------------------------
# NOTIFICATIONS
# ------------------------------------------------------------------------------
# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx

# PagerDuty
PAGERDUTY_API_KEY=
PAGERDUTY_SERVICE_ID=

# Twilio (SMS)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# ------------------------------------------------------------------------------
# FEATURE FLAGS
# ------------------------------------------------------------------------------
FEATURE_GAMIFICATION_ENABLED=true
FEATURE_CRISIS_SIMULATOR_ENABLED=true
FEATURE_AI_AGENTS_ENABLED=true
FEATURE_BROKER_API_ENABLED=true
FEATURE_WEBSOCKET_ENABLED=true
